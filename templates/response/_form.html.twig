{% extends 'base.html.twig' %}

{% block title %}New Response{% endblock %}

{% block stylesheets %}
    <style>
        .is-invalid {
            border-color: #dc3545;
        }
        .invalid-feedback {
            display: block;
            width: 100%;
            margin-top: 0.25rem;
            font-size: 0.875em;
            color: #dc3545;
        }
    </style>
{% endblock %}

{% block body %}
    <div class="container mt-4">
 

        {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
        
            {# Response Text Field #}
            <div class="mb-3">
                {{ form_label(form.response_text, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.response_text, {
                    'attr': {
                        'class': 'form-control' ~ (form.response_text.vars.errors ? ' is-invalid' : ''),
                        'rows': 5,
                        'placeholder': 'Enter your response here...'
                    }
                }) }}
                <div class="invalid-feedback">
                    {{ form_errors(form.response_text) }}
                </div>
            </div>

            {# Created At Field #}
            <div class="mb-3">
                {{ form_label(form.created_at, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.created_at, {
                    'attr': {
                        'class': 'form-control' ~ (form.created_at.vars.errors ? ' is-invalid' : ''),
                        'min': "now"|date('Y-m-d')  # HTML5 client-side validation
                    }
                }) }}
                <div class="invalid-feedback">
                    {{ form_errors(form.created_at) }}
                </div>
            </div>

            {# Reclamation Field #}
            <div class="mb-3">
                {{ form_label(form.reclamation, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.reclamation, {
                    'attr': {
                        'class': 'form-select' ~ (form.reclamation.vars.errors ? ' is-invalid' : '')
                    }
                }) }}
                <div class="invalid-feedback">
                    {{ form_errors(form.reclamation) }}
                </div>
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
        {{ form_end(form) }}
    </div>
{% endblock %}